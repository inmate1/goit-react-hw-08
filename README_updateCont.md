Конструкция .addCase(updateContact.fulfilled, (state, { payload }) => { ... })
является частью использования Redux Toolkit для обработки успешного выполнения
асинхронного действия updateContact. Давайте разберем каждую часть этого кода:

.addCase(): Это метод Redux Toolkit, используемый для добавления обработчиков
для определенного типа действия. В данном случае, мы добавляем обработчик для
действия updateContact.fulfilled, которое автоматически создается Redux Toolkit
для успешного выполнения асинхронной операции, связанной с updateContact.

updateContact.fulfilled: Это строка, представляющая успешное выполнение
асинхронного действия updateContact. В Redux Toolkit каждое асинхронное действие
имеет три стандартных состояния: pending, fulfilled и rejected. .fulfilled
используется для обработки успешного выполнения действия.

state: Это текущее состояние Redux, которое передается автоматически Redux
Toolkit.

{ payload }: Это объект, содержащий данные, которые возвращаются при успешном
выполнении асинхронной операции. В контексте Redux Toolkit, payload представляет
собой данные, которые вы возвращаете из асинхронного действия в момент успешного
завершения.

state.items: Это массив (или другая структура данных), которая содержит текущие
данные в вашем хранилище Redux, представляющие контакты.

state.items.map(contact => ...): Здесь мы используем .map() для обновления
элементов в массиве state.items. Метод .map() создает новый массив, в котором
каждый элемент contact проверяется на условие contact.id === payload.id. Если
условие истинно, то текущий элемент contact заменяется новым значением payload,
которое является обновленными данными контакта.

state.loading = false: Это обновление состояния loading в Redux. loading часто
используется для отображения состояния загрузки в пользовательском интерфейсе.
Устанавливая loading в false, мы сообщаем Redux, что загрузка завершена после
успешного выполнения операции.

Таким образом, вся эта конструкция обрабатывает успешное обновление данных
контакта в состоянии Redux, обновляя массив контактов и устанавливая loading в
false. Это позволяет вашему приложению корректно отображать обновленные данные и
состояние загрузки пользователю.

          state.items = state.items.map(contact =>
            contact.id === payload.id ? payload : contact
          );

Этот код выполняет обновление элемента в массиве state.items в Redux после
успешного выполнения операции обновления контакта (updateContact). Давайте
разберем его по частям:

state.items.map(contact => ...): Это метод массива map, который используется для
создания нового массива на основе существующего массива state.items. В каждой
итерации map вызывает функцию обратного вызова для каждого элемента массива
state.items.

contact.id === payload.id ? payload : contact:

contact.id === payload.id: Это условие проверки. Здесь мы сравниваем id текущего
элемента contact из массива с id элемента payload, который содержит данные,
вернувшиеся после успешного обновления контакта. payload: Если условие
contact.id === payload.id истинно, значит мы нашли контакт, который нужно
обновить, и мы заменяем его новыми данными payload. contact: Если условие
contact.id === payload.id ложно, значит текущий контакт не нуждается в
обновлении, поэтому он остается без изменений. state.items = ...: Это
присваивание нового значения массиву state.items. После выполнения операции map,
state.items теперь содержит новый массив, в котором обновленный контакт заменяет
старый контакт с тем же id.

Итак, код state.items = state.items.map(contact => contact.id === payload.id ?
payload : contact); выполняет следующие действия:

Проходит по каждому элементу массива state.items. Проверяет id каждого контакта
на совпадение с id контакта из payload. Если находит совпадение (contact.id ===
payload.id), заменяет текущий контакт на обновленные данные из payload.
Формирует новый массив, который затем присваивается state.items, обновляя
состояние Redux с актуальными данными контактов после операции обновления. Таким
образом, после выполнения этой операции, массив state.items в вашем хранилище
Redux будет содержать обновленные данные контакта, а другие компоненты,
подписанные на изменения этого состояния, автоматически обновятся, чтобы
отразить эти изменения.
